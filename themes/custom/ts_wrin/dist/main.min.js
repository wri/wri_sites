(()=>{"use strict";(()=>{function e(e){var t=jQuery;if(e==document){var n=function(){var e=t(".menu-toggle:not(.mobile-menu-toggle)"),n=t(".mobile-menu-target"),a=t(".header-wrapper");e.toggleClass("active"),e.hasClass("active")?(a.addClass("menu-open"),e.attr("aria-label","Close mobile menu")):(a.removeClass("menu-open"),e.attr("aria-label","Open mobile menu")),n.toggleClass("expanded")},a=function(e){var n=t(e.target).parents("li").clone();t(".hamburger-slider-contents ul",c).html(n),t(".hamburger-slider-contents").addClass("active"),(t(e.target).hasClass(u)||t(e.target).children("a").hasClass(u))&&t(".hamburger-slider-contents").addClass(u),l.addClass("left"),c.addClass("active")},s=function(){l.removeClass("left"),c.removeClass("active"),t(".hamburger-slider-contents").removeClass(u),setTimeout((function(){t(".hamburger-slider-contents ul",c).html("")}),500)},o=function(e,t,n){var a;return function(){var s=this,o=arguments,i=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||e.apply(s,o)}),t),i&&e.apply(s,o)}},i=function(){(window.pageYOffset||document.documentElement.scrollTop)>=document.getElementById("tray-nav-canvas").getBoundingClientRect().top+30?m.classList.add("sticky"):m.classList.remove("sticky")},r=function(){var e=document.querySelector(".page-node-type-simple-page .layout__region--menu, .experts-staff-header .internal-menu-pages"),t=document.querySelector(".page-node-type-simple-page .simple-page__title, .experts-staff-header .right");if(e){var n=window.pageYOffset+t.getBoundingClientRect().top;(window.pageYOffset||document.documentElement.scrollTop)>=n?t.classList.add("sticky"):t.classList.remove("sticky")}};t(".menu-toggle:not(.mobile-menu-toggle)",e).once("ts-menu-toggle").on("click",(function(e){n(),t("body").addClass("fixed")})).keyup((function(e){27==e.keyCode&&(n(),t(this).blur(),t("body").removeClass("fixed"),s())})),t(".mega_menu_close").once().on("click",(function(e){n(),t("body").removeClass("fixed"),s()}));var l=t(".hamburger-content"),c=t(".hamburger-slider"),u="flexible-row-submenu",d=o((function(){!function(){if(window.innerWidth<=768){var e=t(".hamburger-content");e.find(".menu--footer-secondary > ul > li > .menu-item-title").on("click",(function(e){e.preventDefault(),a(e)})),e.find(".menu--mega-menu > ul > li > .menu-item-title").on("click",(function(e){e.preventDefault(),a(e)})),t(".hamburger-slider .back").on("click",(function(e){e.preventDefault(),s()}))}else t(".hamburger-content .menu--footer-secondary > ul > li > a,           .hamburger-content .menu--mega-menu > ul > li:nth-child(1) > a,           .hamburger-content .menu--mega-menu > ul > li:nth-child(2) > a,           .hamburger-content .menu--mega-menu > ul > li:nth-child(3) > a").unbind()}()}),250);window.addEventListener("resize",d),d();var m=document.querySelector("header"),f=o((function(){if(window.removeEventListener("scroll",i),window.removeEventListener("scroll",r),window.innerWidth>768){window.addEventListener("scroll",i);var e=document.querySelector(".page-node-type-simple-page .simple-page__title, .experts-staff-header .right");e&&e.classList.remove("sticky")}else window.addEventListener("scroll",r)}),250);window.addEventListener("resize",f),f();var v=t("#block-ts-wrin-main-menu"),h=t("nav.menu--main li.menu-item--active-trail"),p=t("nav.menu--main .menu-wrapper > ul.menu"),g=o((function(){v.width()>h.width()+75?v.addClass("no-scroll"):v.removeClass("no-scroll")}),250);window.addEventListener("resize",g),g(),t("nav.menu--main .nav-arrow").click((function(e){e.preventDefault();var n=p.scrollLeft();p.animate({scrollLeft:n+v.width()/2},500),t(this).once().clone().insertBefore("nav.menu--main .menu-wrapper").removeClass("nav-arrow").addClass("back-arrow").click((function(e){e.preventDefault();var t=p.scrollLeft();p.animate({scrollLeft:t-v.width()/2},500)}))}));var w=t(".menu--quick-links .menu-wrapper"),y=t(".menu--quick-links .menu-wrapper > ul.menu"),b=o((function(){w.width()>y.width()?w.addClass("no-scroll"):w.removeClass("no-scroll")}),250);window.addEventListener("resize",b),b(),t(".hamburger-content .nav-arrow").click((function(e){e.preventDefault();var n=w.scrollLeft();w.animate({scrollLeft:n+w.width()/2},500),t(this).once().clone().insertBefore("#block-quicklinks").removeClass("nav-arrow").addClass("back-arrow").click((function(e){e.preventDefault();var t=w.scrollLeft();w.animate({scrollLeft:t-w.width()/2},500)}))}));var k=t(".toc"),L=t(".toc .menu-item--active-trail .menu"),C=t(".toc .menu-item--active-trail .menu"),E=o((function(){L[0]&&k.width()>L[0].scrollWidth-30?k.addClass("no-scroll"):k.removeClass("no-scroll")}),250);window.addEventListener("resize",E),E(),t("nav.toc .nav-arrow").click((function(e){e.preventDefault();var t=C.scrollLeft();C.animate({scrollLeft:t+v.width()/2},500)}));var x=document.querySelector(".publication__toc"),S=document.querySelector(".mobile__toc");if(x){var q=function(){(window.pageYOffset||document.documentElement.scrollTop)>=_?(x.classList.add("sticky"),S.classList.add("sticky")):(x.classList.remove("sticky"),S.classList.remove("sticky"))},_=window.pageYOffset+x.getBoundingClientRect().top;0==_&&(_=window.pageYOffset+S.getBoundingClientRect().top);var T=o((function(){window.addEventListener("scroll",q)}),250);window.addEventListener("resize",T),T()}t(document).on("click",".toc-list > li > a",(function(){t(".toc-list > li > a").removeClass("active"),t(this).addClass("active")})),t((function(){var e=location.hash;if(e.length)var n=setInterval((function(){t(".toc-list > li").length&&(t(".toc-list > li > a[href='"+e+"'] ")[0].click(),clearInterval(n))}),100)}));var j=document.querySelector(".internal-menu-pages"),B=document.querySelector(".internal-menu-pages .field-label");j&&B&&(B.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),j.classList.contains("menu-open")?(j.classList.remove("menu-open"),j.classList.add("menu-closed")):(j.classList.remove("menu-closed"),j.classList.add("menu-open"))})),j.querySelector("nav").addEventListener("click",(function(e){e.stopPropagation()}))),j&&document.addEventListener("click",(function(){j.classList.contains("menu-open")&&(j.classList.remove("menu-open"),j.classList.add("menu-closed"))}))}}function t(e){var t=jQuery;if(e==document){var n=t(".block-local-tasks-block .tabs"),a=t("body.user-logged-in");n.length&&a.length&&(n.prepend('<span class="tabs-toggle">Edit<span class="arrow"></span></span>'),t(".tabs .tabs-toggle").click((function(){t(this).hasClass("open")?(t(this).removeClass("open"),n.animate({left:-200},500)):(t(this).addClass("open"),n.animate({left:0},500))})))}}function n(e){if(e==document){var t=document.querySelector("#tray-nav-wrapper"),n=document.querySelector("body"),a=document.querySelector(".add-transparent-header"),s=document.querySelector(".add-white-header");document.querySelectorAll(".tray-toggle").forEach((function(e){e.addEventListener("click",(function(e){var a=e.currentTarget.dataset.tray,s=document.querySelector(".region-wrin-custom ."+a);t.classList.contains("show-tray")&&s.classList.contains("show")?(t.classList.remove("show-tray"),n.classList.remove("noscroll"),document.querySelector(".toggled").classList.remove("toggled")):t.classList.contains("show-tray")&&!s.classList.contains("show")?(o(),s.classList.add("show"),document.querySelector(".toggled").classList.remove("toggled"),e.currentTarget.classList.add("toggled")):(t.classList.add("show-tray"),n.classList.add("noscroll"),e.currentTarget.classList.add("toggled")),a&&(o(),s.classList.add("show"))}))}));var o=function(){document.querySelectorAll(".tray-contents").forEach((function(e){e.classList.remove("show")}))};document.querySelectorAll(".tray-nav__close").forEach((function(e){e.addEventListener("click",(function(e){t.classList.remove("show-tray"),n.classList.remove("noscroll"),document.querySelector(".toggled").classList.remove("toggled")}))})),document.addEventListener("keyup",(function(e){"Escape"===e.key&&(t.classList.remove("show-tray"),n.classList.remove("noscroll"),null!==document.querySelector(".toggled")&&document.querySelector(".toggled").classList.remove("toggled"))})),a&&n.classList.add("transparent-header"),s&&n.classList.add("white")}}function a(e){e==document&&document.querySelectorAll("a.arrow-link, div.arrow-link a").forEach((function(e){var t=document.createElement("DIV");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 23 22" version="1.1">\n    <title>1C8169EB-82BD-47E2-BD18-1E3111E875FB</title>\n    <g id="SPEC-styles" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="CTA-content-blocks---large" transform="translate(-393.000000, -1792.000000)" stroke="#F3B229" stroke-width="2">\n            <g id="block/CTA/small-teal" transform="translate(0.000000, 1750.000000)">\n                <g id="icon/arrow/white" transform="translate(393.000000, 42.000000)">\n                    <g id="Group-5" transform="translate(11.134146, 10.634146) scale(-1, 1) rotate(90.000000) translate(-11.134146, -10.634146) translate(1.134146, 0.134146)">\n                        <polyline id="Stroke-1" points="0 13 10 21 20 13"/>\n                        <line x1="10" y1="20" x2="10.3658537" y2="0.365853659" id="Line-7"/>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>',e.appendChild(t)}))}function s(e){var t=jQuery;t("#wri-stay-informed-footer").on("submit",(function(e){e.preventDefault();var n=t(this),a=n.find("input[name='url_action']"),s=n.find("input[name='email']");localStorage.setItem("wriEmail",s.val()),window.location.href=a.val()})),t("#edit-email").length>0&&localStorage.getItem("wriEmail")&&(t("#edit-email").attr("value",localStorage.getItem("wriEmail")),localStorage.setItem("wriEmail",""));var n=t("input[type=date], input[type=datetime-local], input[type=text], input[type=email], input[type=month], input[type=number], input[type=search], input[type=tel], input[type=text], input[type=time], input[type=url], input[type=week], input[type=password], .form-textarea");n.focus((function(){t(this).closest("form").hasClass("webform-submission-form")||t(this).parents(".js-form-item").first().addClass("move-label")})).on("blur",(function(){t(this).closest("form").hasClass("webform-submission-form")||t(this).parents(".js-form-item").first().removeClass("move-label")})),t.each(n,(function(){""!==t(this).val()&&t(this).parent().addClass("has-value"),t(this).on("keydown keyup blur",(function(){t(this).parent().first().toggleClass("has-value",""!==t(this).val())}))}))}function o(e){var t=jQuery;t(".block-facets h3").off("click").on("click",(function(){t(this).parent().toggleClass("open")})),t(".block-facets input[type=checkbox]").each((function(){var e=t(this);e.is(":checked")&&e.closest(".facets-widget-checkbox").addClass("open")})),"inline-block"==t(".button.filters").css("display")&&t(".facets-widget-checkbox").removeClass("open"),t(".block-facet-blocklanguages-spoken-taxonomy-term-name").length>0&&t(".block-facet-blocklanguages-spoken-taxonomy-term-name .facets-widget-checkbox").once().removeClass("open"),t(".button.filters").off("click").on("click",(function(){t(this).closest(".view-resources, .view-experts-staff, .view-events, .view-paying-for-paris-resources").toggleClass("open")})),t(".resources-container [name=query]").val()&&(t(".view-header .query").show(),t(".view-header .query").once().append(t(".resources-container [name=query]").val()))}function i(e){var t,n=jQuery,a=document.getElementById("interactive-map"),s=null==a?void 0:a.getAttribute("data-svg-url");function o(){a&&s&&window.innerWidth>=765&&!a.dataset.loaded&&fetch(s).then((function(e){if(e.ok)return e.text();throw new Error("SVG could not be loaded.")})).then((function(t){a.innerHTML=t,a.dataset.loaded=!0,i(e)})).catch((function(e){console.error(e)}))}function i(e){n(".wri-region-map",e).each((function(){var e=n(this),t=[];e.find("svg > g").each((function(){var e=n(this).attr("id").match(/^node-(\d+)/,"");e&&e.length>1&&t.push(e[1])})),t.length&&n.ajax("/wri_maps/region-map/json",{data:{nids:t},success:function(t){n.each(t,(function(t,a){e.find("svg > g[id='node-"+t+"']").addClass(a.type).attr("aria-label",a.title).attr("tabindex","0").on("click keypress",(function(t){"click"!=t.type&&13!=t.keyCode||(n(window).width()<768?(e.find(".wri-region-map-popup-button").trigger("click"),e.find(".wri-region-map-popup").html(a.popup)):window.location=a.url)}))}))}})}))}o(),window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout(o,200)})),i(e)}function r(e){var t,n,a=jQuery,s=(t=function(){window.innerWidth<=768?a(".spb-popup-main-wrapper").not(".spb_bottom_bar").each((function(){var e=a(this);e.attr("data-class-orig",e.attr("class")),e.attr("data-style-orig",e.attr("style")),e.attr("style",""),e.attr("class","spb-popup-main-wrapper spb_bottom_bar"),e.parent(".spb_overlay").addClass("has_overlay").removeClass("spb_overlay"),a("body").css({overflow:""})})):a("[data-class-orig]").each((function(){var e=a(this);e.attr("class",a(this).attr("data-class-orig")),e.attr("style",a(this).attr("data-style-orig")),e.parent(".has_overlay",e).addClass("spb_overlay").removeClass(".has_overlay"),a("body").css({overflow:"hidden"})}))},function(){var e=this,a=arguments;clearTimeout(n),n=setTimeout((function(){n=null,t.apply(e,a)}),250)});window.addEventListener("resize",s),s()}function l(e){var t=jQuery;t(".more-on .field-label a",e).click((function(e){e.preventDefault()})),t(".more-on .field-label",e).click((function(){var e=t(this).parent();e.hasClass("active")?e.removeClass("active"):e.addClass("active")}))}function c(e){var t=jQuery;t(".field--name-field-media-oembed-video").on("mouseenter",(function(){t(this).addClass("playing")}))}function u(e){var t=jQuery;t("a[href^=http]",e).each((function(){var e=this.href.indexOf(location.hostname);if(-1===e||e>8){var n=t(this);n.attr("target","_blank"),n.hasClass("button")&&n.addClass("offsite")}})),t("a[href*='/sites/default/files']",e).each((function(){var e=t(this);-1===e.attr("href").search(".png")&&-1===e.attr("href").search(".jpg")&&(e.attr("target","_blank"),e.hasClass("button")&&e.addClass("offsite"))})),t("a[target='_blank']",e).each((function(){var e=t(this);e.hasClass("button")||e.append('<svg xmlns="http://www.w3.org/2000/svg" class="offsite-link" width="12" height="11.3" fill="none" viewBox="0 0 17 16"><path fill="currentColor" d="M2.278 16c-.49 0-.908-.174-1.256-.522A1.712 1.712 0 0 1 .5 14.222V1.778c0-.49.174-.908.522-1.256A1.712 1.712 0 0 1 2.278 0H8.5v1.778H2.278v12.444h12.444V8H16.5v6.222c0 .49-.174.908-.522 1.256a1.712 1.712 0 0 1-1.256.522H2.278Zm4.178-4.711L5.21 10.044l8.267-8.266h-3.2V0H16.5v6.222h-1.778v-3.2L6.456 11.29Z"/></svg>')}))}function d(e){var t=jQuery;t("span.gmt").once().each((function(e){var n=t(this).text().trim();n?(n.startsWith("-")||n.startsWith("+"))&&t(this).prepend("GMT"):t(this).addClass("hidden")}))}!function(m,f){f.behaviors.tsHeaderNav={attach:e},f.behaviors.tsTabs={attach:t},f.behaviors.tsTrayNav={attach:n},f.behaviors.tsButtonSvg={attach:a},f.behaviors.tsForms={attach:s},f.behaviors.tsFacets={attach:o},f.behaviors.wriMaps={attach:i},f.behaviors.wriModals={attach:r},f.behaviors.wriMoreOn={attach:l},f.behaviors.wriMedia={attach:c},f.behaviors.tsExternalLinks={attach:u},f.behaviors.wriDatetime={attach:d}}(jQuery,Drupal)})()})();